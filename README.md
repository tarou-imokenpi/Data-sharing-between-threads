
# マルチスレッド環境でのデータ共有の例

このスクリプトは、Pythonのスレッディングを使用して、マルチスレッド環境でデータを共有する方法を示しています。データの型安全性を確保するために、`pydantic` ライブラリを使用しています。

## インストール

`pydantic` ライブラリをインストールするには、以下のコマンドを実行してください:

```bash
pip install pydantic
```

## スクリプトの概要

`Data_sharing_between_threads.py` スクリプトは、2つのスレッドが同じデータを共有しながら動作する簡単な例です。以下はスクリプトの概要です。

- `GlobalMemory` クラス: 型強制を使用して型安全性を確保するために `pydantic` を使用しています。このクラスは整数型の `count` フィールドを持ちます。

- `func_1` 関数: `GlobalMemory` インスタンスを受け取り、100回のループを実行しながら `count` を増加させます。

- `func_2` 関数: `GlobalMemory` インスタンスを受け取り、100回のループを実行しながら `count` を減少させます。

- メインスクリプト: `GlobalMemory` インスタンスを作成し、2つのスレッドにそれを渡して並列実行します。スレッド1は `func_1` を実行し、スレッド2は `func_2` を実行します。最終的に、両方のスレッドが完了すると "all work completed" が表示されます。

## 使用方法

1. まず、`pydantic` ライブラリをインストールしてください（上記のインストールセクションを参照）。

2. `Data_sharing_between_threads.py` スクリプトを実行します。

```bash
python Data_sharing_between_threads.py
```

3. スクリプトが実行され、2つのスレッドがデータを共有しながら処理されます。

4. 処理が完了すると、"all work completed" が表示されます。
